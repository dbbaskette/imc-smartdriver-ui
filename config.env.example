# =============================================================================
# Insurance MegaCorp - Smart Driver UI Configuration Template
# =============================================================================
# Copy this file to config.env and update with your actual values
# This file is used to set environment variables before cf push
# =============================================================================

# =============================================================================
# GREENPLUM DATABASE CONFIGURATION
# =============================================================================
export PGHOST="your-greenplum-host.example.com"
export PGPORT="5432"
export PGDATABASE="postgres"
export PGUSER="your-db-user"
export PGPASSWORD="your-db-password"
export PGSSLMODE="prefer"
# Target database names
export TARGET_DATABASE="insurance_megacorp"

# =============================================================================
# HDFS CLUSTER CONFIGURATION
# =============================================================================
export HDFS_NAMENODE_HOST="your-hdfs-namenode.example.com"
export HDFS_NAMENODE_PORT="8020"
export HDFS_PROTOCOL="hdfs"
export HDFS_TELEMETRY_BASE_PATH=/insurance-megacorp/telemetry-data
export HDFS_CRASHREPORTS_BASE_PATH=/insurance-megacorp/crash-reports

# =============================================================================
# PXF CONFIGURATION
# =============================================================================
export PXF_SERVER_NAME="hdfs-server"
export PXF_PROFILE="hdfs:parquet"

# =============================================================================
# ENVIRONMENT
# =============================================================================
export ENVIRONMENT="dev"  # Options: dev, staging, prod

# =============================================================================
# CLOUD FOUNDRY MANIFEST ENVIRONMENT VARIABLES
# =============================================================================
# These will be set in the manifest.yml via environment substitution

# Service Discovery Configuration
export COMPONENT_HEALTH_DISCOVERY_ENABLED="true"

# Component Health Service Mappings
export COMPONENT_HEALTH_SERVICE_MAPPINGS="generator:imc-telematics-gen,processor:imc-telemetry-processor,hdfs:imc-hdfs-sink,jdbc:imc-jdbc-consumer"

# RabbitMQ Management API access
export RABBITMQ_MANAGEMENT_ENABLED="true"

# Logging Configuration
export LOGGING_LEVEL_COM_INSURANCEMEGACORP_MONITORING="DEBUG"
export LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_CLOUD_NETFLIX_EUREKA="DEBUG"

# Safe Driver Scoring Configuration
export SAFE_DRIVER_SCORING_ENABLED="true"
export SAFE_DRIVER_SQL_SCRIPT_URL="https://raw.githubusercontent.com/dbbaskette/imc-schema/refs/heads/main/recalculate_safe_driver_scores.sql"
export GREENPLUM_USE_REAL_DATA="true"  # Set to false to use simulated data

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
export LOG_DIR="./logs"
export DB_LOG_FILE="$LOG_DIR/db_setup.log"
export PSQL_VERBOSE="false"  # Set to true for verbose psql output